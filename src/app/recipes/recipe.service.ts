import { Injectable } from '@angular/core';
import { Subject } from 'rxjs/Subject';

import { Recipe } from './recipe.model';
import { Ingredient } from '../shared/ingredient.model';
import { ShoppingListService } from '../shopping-list/shopping-list.service';

@Injectable()
export class RecipeService {
  recipesChanged = new Subject<Recipe[]>();

  private recipes: Recipe[] = [
    new Recipe(
      'A Gujrati Fafda',
      'Tasty Gujrati Fafda - just awesome!',
      'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUTExMWFhUXFx0aGBcYGRgaHxgYGBgYGB0dFxsdHyggHh0lHRYXITEhJSkrLi4uHSAzODMsNygtLisBCgoKDg0OGhAQGy0lICYvLS8tLSstLS0tLS0tLS0tLy0tKy0tLS0tLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLf/AABEIARMAtwMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAEAQIDBQYABwj/xABGEAABAgQEAgcGAwYDBwUBAAABAhEAAyExBBJBUQVhBhMicYGRoTJSscHR8ELh8QcUIzNickOCkhVEU2OTosIkg6Oy0jT/xAAbAQACAwEBAQAAAAAAAAAAAAADBAABAgUGB//EADARAAICAQMCBQIGAQUAAAAAAAABAhEDBBIhMUEFEyJRYXHwMkKBkaGxFBUjwdHh/9oADAMBAAIRAxEAPwAmVgCklebrJv8AiTFXAOkv3BpSsDTUy0k5lFRD9p6Vp3lxEvEMRUFIyghgNxqSN4D61BQpN1gjLSoezG5/SPO5tVPovv6fU9Dp9FF+qXK+/wCgmRNHZGpsS1BpDf3wpUQfIsHvaKgTJilIJBBCg7jatXg3GHOsKAFnSxgCz5YfmHJaLE3TSLOVMSpsyEkbihB7tbRHMl9rMkheU2/EO47QHLWSiafxJJysLpIdjzFvKIcFiipQOupsdocx65161+whk8P59D/cuZaybKLk/b1idWMS38wM2r1sRrZoBwWISsl+zoob8xzDxX4sKC8uYliwHP7aOjhzblaOZmxPHKmekdDcCJh60uUps9HPc+kXvSDiwkpYe0fQQ/gWGEjCoT7qXJ3pUxguPY4zJhO59IX8S1TxwUI9X/CA447mBYzFKWSSYGUXhHh0tGv28ef6DRwEIEgcoRc+rCsLMQdbxCEU2thA02XFglspgaaN2jSZaYEYv+jnFyD1az/aeW0UCoYhRDKFCDB8WSUJbkaaTVHq6yVy3DOm/NJsfC3lApzA3HnpHdHcQJiU7LS3+ofIxGokGoj1mCe+CZzpqmEJse15NCAq3f774hJvbyMIkcn3pBqM2FyyXv8AfnCQyWjl6ER0ZIec4nDgylkjtfhY3b7HdFRw7G9rt0UggA2NXpzi24lMzS0kAp5Goc84ourKqG4NDeoL21jxmP1Re49xjj6eSw4hjSoagc70gqTg8ssLVegAr93gfCoyiqQoDlflCcQnq7IzbnKHckXoNhFVfpia6cIdOmEhipI3DgONqGIEzAbdkA3DEmIUyR7agciUuRubAesJwrDpJyhLBySK3Ltzv8I3tSiUwyVixmAHjye/zi0lj+PLDUK0c7qEZ4YZSZqhQAMKF2UdKa6naCp+OyT0KKmCFJJDL0IUbJI1MdTRKlwcPxOtyo9w4xMy4Yt7oHwjzDEK7Uek8VOfCEj3R6UjzTEiphTxW/PX0X/JzcPQjFYkUpgTDUnvhU1jnBSPBChOthBTwNMS3dEwmMK200imRjCWJgecYmFTA+JOlxGkWgWdrYNEa7RKQ99YjWRa1IKjZuOgyjkR/d/5RdT2C1U/EdBvFd0Gw+WWgnQFR7g5+kPUpJL5ZlS/8lYvyJj1GgVYVYhn/EF9ZQxCucRqPIxCsAC80P8A8mZSHIkJP41+MpcOgSVOLLjXw74SIpuFQCPbL1pJWb7sbx0UWebYjiAnKZiCAzfhYUp9GiLF8MMqQJnWkzCr+WACDLoxDB3fejd1TMPhzJUtagMgACgpquaN5aQ/HYWRPHZUqWo+I8j8Hjximov4/c9wn0UenwU37woS3ZQJNQa10P5RLwnAKnzUs7pPaWSzBqxZ/wCypUhDrmda5FBSwNkj6mCpEzNKzoljqgQCyiL2Zh3eMSWXh7F+ppy9PAPxuYUvKlDKGfNckDU7D9YXgslMiS/aXNV2jyr2Q5Pj4xYzJCkLGVLlXtDRCWNVF6UvFdj0poQoG9EmoNank513EDxuUkoJdQbeNR5dIFlIDBRu5NS9TuLav5RUYjElSiQTU6ERZ46awyOMx5kMD9/bRVCQHABd/DXR47+mxeXGmed1eVZcja6Hs37PuKDE4Pq1HtAZFeAZ/EMfExmOLYVSJikkMQYouj3GjhMQkpfIQAsCtLgjzcPoTZ6ej8awicXKE6SQpTA0/ENxzgWv07zQUo9V/KFIvazCC8cmWEjKkNW3O59YlnpIcGIQCI4QcmCnHdDJop3Q3O1Ab3iGYuLSJRIF5bwMtT1MIYaTGkjaQijC8OwRmTUoDlzXkIahJWoJSHUbAR6J0U6PpkI6ybc35/0iHNLp5ZZUuncxkmooO6vqZASLrAA5IDP52gATFUck7eMWONOdTk91WA2FojEsixHiofSPVQioxo57duyNSAU5iSfnpvEIQnZXl+cWKEEpaj8y/wD4iISj+oekasoHKAzsR3g/WOg1NqLHlHRVl0eXYmT2nAL6JUGNre6q+hiHCmUknrE5XDdoKbw0eLcIVUKZae5j5GkcJQbcc3OX5tHnsunhPrx9Dr4dblxqr4Ac8lYYzEBrF/jvSLmTj8FJkoRK7YQcwAQpirdSiAPNT+MVszCB6J8HOz6QwYV65bchzo5EZh4bXd1+gXJ4g51YiuLTJmcAABdHDOKv7T5alnbNSjRAmSoBgkveiSz71NTepNHLBMFoQxoLd2/e8TSweVmFRD+HSwx9BPLqZT6lSODEqfK77vVzzPdHJ4WAtJKUlqtmA1sXPPnF4E69n03Fq7QigHo5+mbcG1Ia2IWcihxGBISFAEly9aFySCz89HDbancD6RTcFkOXNLWoukO9LqTU66a174Nl60TbXZzzhuNkJUU9oUFBQUqS0RY+5TmayfhsPjUdZKUErOrX/uGnfGa4jwifK9pBKfeT2h5i3iIBwkxUpTpWQwHLvsOUazhnSMkDP/3BvUQrn8Ox5Xu6P4/6LjloxKpsNK49RSZE0OqWlXeEq+IiaXwbCn/BR/oR9IT/ANJl2l/AXz17HlEsknKASdhU+kW3DeiuInGqcid1X8r+bR6jh8DKT7KGHgB6RJMxiUCgfklvjB8XhUU/U7MS1HsVHA+i8nDJzGqtSb/fIesF4mZmNwALBjQeUJOxJXUig02iHONo6uLFHGqSFpTcnyJMrqPKI8vNHr9InURt8IZSn5QQoWWDuPIw1yPxH1+ZicN3+XqPyhhZ7+n5RRYqCSN/ER0Kl93jooswpZRSCoZvEkpt51FawZ/stRdSAW9S3gxF45EpJGU7uGFRzi+4SpSUZTUvTu+sfPsXiGXG1FPj2Z1cmNVZlZ8pk8hUUfkXZrEjwgIppVm0osfGLicg5lIIFyOVduTGKNaUAFg2th8zHqNPl3KvvkUaGrI28/m/hCiY34k6UBGvcYCmAb6XAG3lv4RGpdTe+quZ7ucNKTKLETB3+P0Hzh4mijjkG8edxFUqbWgB78xuHe9d4QTG5+HhBIzMNFpKIFn0uUj/AMoInEkkkqYDQhXxMVuAC1qyoSonZKdAdvO/KNTgeh86ZWYMgO5D6aAQaMjDRn8oH4n71BNqalrmESQ1GvV1A86+nlG2T0UkpbOtS+VG32f1gqVwrCp/wkn+6vxje9IzsbMNgJ5TUFtyCoV5c6/et9hOIzP+Kqn9R7t9xGnRh5AtKlj/ACp+kKVSfcR/pH0i/NSM+WymlYokdoueZBgoFw1PAp+NYM/gH/DSO4N8IcMPJPsuO4/WsY/y8V05InlSI0NoHfYvazjW0KJh90/ezh4VeEOis3kk+tPWAlnIe0FJ76eX1gyafQqqDit9IYZo1aBuvG/r+cNExtT5xKIFlaTv5CGqWnc+o0gYL7/E2hipp29HiUWWEtt3joDRNOw8j9I6KLK5KWUAwDDUuo8ywYaUgwLajsW/L6RS4TGKUbDYAavoOUX8mSkEEgFeUOdqPfvj5ZONStnZmq4ZQ4nCrTNK5hCXFA7lZFyBpRzfTnGPVPqqovu2v3rG56U4hITrnqA+1QW7/lHnhzEntouby68n7fdHrPCm5Y936fsIz6hCppOvqDsK0D6WiR+euo5VgVMtRNCn/pW5e39tFpwPgk/FLyyykB+0pUkMm1+3flHWSsxYKJcxZCUOomgArfujYcA/Z6osvFLpfq0tz9pXjpGy4F0fk4ZPYSCsgZlkBy3w7ospi4PHHXUG5+wLgcBJkJyypaUDkAPPnHYidCTJkCzFxt8FJEMyY8QKiRRiKZAJMKiKYuBZk1g8LiFNEeGw3WFVT7NAGvv+UcrW62OHjv2QWEL5J8FNUp8ozCj8ucTzwnWhcVSWy/IwD1wlJA7N2I9709YCnYhSpuVilIIdJd2KXv3kR5PJOWWTnIaUC5E/IspUolhR+f2YIVjCmhqNjWKjpFieqk50o6wsxqkKANiCbsdBGMl9NEkuT2WAZq5qu5dmZqNvXbr+GZtQpbk7j+4tlUK5PRVS0TKoUUn3SaHuOnjAM1ZQoggg1dx4+NIxp6ayk+9Fxw7p3hZjInEEWBKQSl9nB8o9Xi1q6TE5Rj2ZdIxAb6/lHKnjbuv9ImVJLBSVy1IIdKhKQx7q35GIjhTTtS6byUX8/SHlK1aMHJxHg3PeOhyJSqupBG4lSwxvsX2joogDwgpKQoa+ldfODsPignrCogAVzE3DOYr1TEy5TzE9UlOhU7l3uS7a/pGQ4hilTFVzCWLAu6u8OW7u7lHznT6GWom66e51smRKw7jXEOuUVlw4ZCWdkaONy5N/xDnFLMLFmb/KR8ucToK1KzOR4ffOLHDYGZNWlCXdRZ2FBuY9bigscVGImxOjvA14uYEpoge2prBzQc7/AHf17hnDpciWJctLADz5mIeCcNRh5QQnxO51JgyZNAjoY4bUBlKxy1wBiZsNxOMEVszEPGpSSJGJKuaYjVMiIzIgnTYXlMKkJjOIplgkueQitTx8EjssDvEGL7bvbxvfTwgTFIBIrVqgBqxxNVrcqm1F0kPYsMHHktcYvNUFxAmA4n1S3KmbWpDUuxtFV1qkEhJbvqPyiLDhRJGVzqbBzHM1Ljkl5nN/X+gscO1U+hrp2HlzT1gUOyxbRVaAPUV+MAcdxTLSUqAe5alP19IAwkjIJlz2bPR3zOkaVBhslWZhMklR0ANO8nS/joIRUafW0Wo0wnH8QnKkzDLUlIQkqsFFSQHNCKGhp9jNyeHJEozVyJSlKDkqQkkACgT2fTnGv4ThJgCpkwSpctLslIPaDXWpROmgaGddJm9hBSAlT99G5M3jBYZniVR6e6/ow0nxRm+HdDcPOCipCwVBkpSv2CMxJQ5Yu4ICizUZNo8+4rgF4acuSsgqQopKkuxIPOoePf8AhGBCA5I7xq8YT9pHDpanUlICqur3nOm5h7Q+ITeRqbtPoLTwxk2olP0G6XrkLyLJVLV7SX9Rsrn9j1mWAQlcslaFB0q3HPY6R84pWUE7u0et/sz4+8sSphdJLV0O4+9Y9Lgy+XKn+F/wc9xp0bQp3B8zX7aFgxUti31jo6ZR47iZq1KzzSqYp3AZgCdgKD8oalzdPofSsFYiayrfCmp9PjEkrEULpFA9t3O8ceEIxVJDVgwBDdgmlPaHo8bnorherliapLKXYbJ087+W0ZThMkTp6JeUNdXZZkhn+DeMbnFTGg0FXJRYYjjTUAiix/F5kwPLUwdg34j37PtAWKxBdhCSj1aA199bRz/ENXOlCLr6DWnwxXLQJL4nNzB1qfYuR3tr4xZ/vagkErFL9mp1DAHa5jMJJzkml7a8juINlJUU1qBHJWbLHpJ/uPzxwfZFtxebPyZsOQQXNfwpFcx3DbDa8BJxExnK379e4aCJOBYwpVaxIHN3/WGY/BLSXSnsWFuy9gzv9iuxJajJL83IJY4x9NEeGxcxUxEsqKEqVUUZTVZ2erNSLdeAcKIvtbk8US+FTllxMTLWKoNSyhUAkblg9Y0fDDMTJlCaT1oT/EzEOVZi9r6gRH/uRuRUqj+EolyShsxAOx5c+TwJiAoMQTvf5axpsagKckOW0ikm4XKd2oPhCskkwsJ31KOTJxCpnVS1KLnMSVbGyioEtWNLwwGXMKFgFXVpcGpCjW9n+sChCpbqSSklPtM53+UUqMSsYlc9Sz1bal85apPdZuUVOLyJrhcfq2XJWbmeqYuQyEZmdOV2vc1ZyBzimw+CAWlKgjMVDVqmlaPaKdPFRMQol2KnuoB38i3OEkzgUKUp2pQAE11JpAlgklTJjwyfCNRgiZiSrMUAJOUkpyJDpLoQlVVMCyjbatcX004qlasg61R/CoppYAHRnJ0GsaVEhaskyWodSEkdksAGIyhNiSSXJt3gRi+M48zJqwgUdmD1aj+b7w3pcFSUmGw6ZOTt/wDhkcUNXc6sdbfSNJ0QnZVljRQcd4aBeI8OTNlKmykkdWl5jZiCzAqawrewr5VfAFlM5KnYAudmaO7e/Ha7HG12Hy8jR9G8Ax3XShqpIHin8oSMj0U4l1a6HR/Aj6x0PYdSnBWKON8oo8SC79kV/pHPvu32IGE73pitjVRrlJNn1h2IXQlgaV9o6aur9YWRh1FYyJDBCTmFCFdnQ0PZdy9yABeB0FNJ0NluJs1yQ+QOTT8Sr96fKLDHLiXguHyYZPMknm5J+DQHj1RWTiJqJWYlesQcIxqZiil3UDUKJqTQNv4beYnGJij2UvbQO/KM8jCYl8yZSjpUUI2L3EcjNWSVex0cUKjbPROIcLTmJSBQB0gAO+zMHNKw9C0ewEkFgKij62+UUfBOLBaepUDKnAMErssBgMpL5iPHyi+xCUlTihy1S1WDDXwhGacWy/hk2CwdzY7bgfpE+LUWY/D5w/hs4UDglt3pT5xKvDCquTAO9jsaP2vECIoJxtA5Sd8lTgWKg4Dj6N84ruKYpacWqbmOXIEBIscpUoGr+8bRY4icJeg5fnFBOW6nPib+kYU5JUg0FbtmpwExS5WZYCfG509IDxEsKPfFLIx5SohAOV6OWPp9IspWPdnQeegv5a8rRHyW4NO0FzZHZNIyPE0g5wlJdLE0v3HekbpNU+dYy3E5R7Te0bcyIvo0y8T6ozUhwDV0j8Jdty20EYPiAQWsKBWoYhj9fKIcTMKQQoM5q3gAH9YqcLiU5VZjUl/V/pDnl7lY/p4rmzVYTErkLAlqBkKT2kuC/dVweY8RAqsBJmLJkOhWVjLNgN0kW2rFJhEFWVTslSvaLAMCznlcGPRV4ZCJc2TLydf1YWQEk0JbSz29YxKMouk/v5CZag0+7++THYvCYjMlGHSVJU6VgKSygaEKJLBO7/KM3w3CZcQtCg2QqSoO7FPMX0IOxEbnjHCMHh8MjETUBU45VFKXLtcXZIFdna8ecoxypc6YtXb67tpU5Had6cmplPKHtOm8bivY4/iMd8Ny7M3mAxWQIWkEhyk+Tj4NHQDwHHKm4dbgAoIZtifz9YSJDcrTdUczDOKjUlZZLl18HskaasefwhBIArR+RY+zpo71iSZiv+QR/wC7KOje7yHrEE7Ely2HmEf3yuWwOxjpFHpWGk5cNKGyEjyAEUHFh2gLPGrw6HkI/tEZnpKggAi7t8/lAtZccba9guCnJIqFzHDigHrQ31e0QjFKBatagiw5H7rWFAzOobCg3YGsB5y7N998ectt8nWUUEY9aJ0tQmJSToTvuIZg8WuUlICesCRlUtJOfKGHaCjV/eBHcXiOUFABJJWovUi7qJFtgWfUehcqWwFWUws+lNdY05Uq6olKjVcBMmdLzS1AkXDVSXsdXt6RYZFC9hX5fOPOJilonBcpZRMFyLKBeixqnxfY1rtBxWUmWmbMOUK7Lhylxd6OLX5QRbWlXUXyY2n8FVxdKhMzXfetYHmyP4ZJ9p78qUi6xaQsB2S9atR9Lt+oirxeGUWAqDYwt0CRfQqsIKu0X/D8OScpHrFZ+7mWbP3bsPSsWMjEKFAGOkRNJ8m8jvoFYnDKSQzsK/ld4jxWAC03ylq1oTvan6bvBsmYpZZRFCH1odb/ABghGUkhqVrytZo3tT5QDe0efdJOFMl1Bgqw38dCDd4yWEwCqlZAG52F49sGDCmzAKALsQGryNIwPSjowcM8yUf4a1KFWeUpR7IHvJqwN994ZwTltcbHtLnju2srUYdEvDJmrKzKUoyw8sEuQVWoWLKjR9GeModRCs0xSEpzKBBUJYIAUK1bXerRnET1TpcrCgntJnKQXqmYAFVP+VSfGH8CITlKi5TVwA4feo57RMnEdyux5496al9/dF3xHES8SXygq91XZPLKSBWpu0YDpVwtMhkpcCikpLuntFJBcA3D9zEEgiPTEYKVnClA5gkkgi4Ls4s/dGO6R8TRicOxSBMlqvcgC6X1SaHvEa0WX1fApmgpQcY9KKronikoWcxASRXnCQb0EkSJkw51Jol6kM1taXMdB9RfmOos8lJcmvnYVBZknvzJ1bR/XnFdi8Og3LWuRX75c4vsVJRqF1O1zWlRAszDj3F0vbzLH71jtUMG/wCALz4SUf6AD3sHgPjGDzJpcVjugs18OqWxGRRYHZ33tWLCcm4gjipRplJ0zzrGII9mgLuNrP8ArAOZLFr+o5kaRpeL4Nipg4Nx8xFHMlqNg1WPM+VR8xHmNRppYpP2OxhzKaXuD4NbdtiaNchjbzBD+UTFDigBL3JNL08eXKFy6XDmn33Q2VmswYnLUpTZqnlesKt30DirmgAmv6CHyVGhcGWSy0qS+YN6F28vENSlzUMLem/3rBWElNlALJDknUuW00FrRSdFM7FcIlolmbh3Sn2lID0a5G9B4ND8LxqUvIpS1JABTlIGWnaJLOx5mjNBvD1nPRqGpF/whqwziXDkzpR6tCUqSomgAzEu47PJXi0bjJS/EYtdGHYACaXSxB9kioNSL94PlBhwRLFqCtm5RmcJLnYZxJKAUtnQcp7RoT/2mo+jH8L6QrWtMtUtLEAOksMzkBtxUCL8uFdTEoyu49DQYeUHfkQYmmoFFAU7udYVMkiJSv8ADoz66NbxjcIJxp8C7lzaOwksEObs5jP9JMdnQqTLBdaSgkAEsaEAHVnrvGgxzoklh3nkQd++M1wCQiZNMxSlOgg5SwBJCgG1vWCZE4OMI8Pubw1zkfRdClwvRmdIXKxHZKJa860mihLIZVnchJzkUtvGcxWXPlJJlpZ0gntbuQDTSPVMViR1yUXBDEbvT1+sZ3iHR8KcWUKZmu328ait9qPVD+HWOLvJ3QAvjmZRyAfyyQuupowIoa6xmJHR505XALVu8bLD8BSm9fSJ0YIIBqW56CCYcE49qRjJqoJNQPPsFgJCJaZUpeeepOSaoIIEsy6qyF6kqCQ5SHDm7x0aDorgXTMnZW6+auYAQxCCtRSD5k+MdHU3y9zjLHCjUzCasnXntX8LRBMQptvP1pEmImqGitTSvhcxCuaTcEDVx5N2Tzfwh4AWPRHElE5lGi6Fyb6M/KNTjkMXjz6TPIIOUEpNwwrejAU+seh4DEifJSsaivIxaKKDHoeKDGYU1Zx3RrcdhmionSoTz4+eRjHIy832ixq1iC9GsbG8DpkkjK7kCuWnfd9ucW/EsE/aFCKgiK5OLZ87lrkXfuoD93jgajA8cuOh08WXcvkmwkl1rTYZSsC+ViOz6vEuHmAC61EXCEqrSxapIfuMJw5CVy3lkKqylO/tD2SD7NBYwbhO0mxGZJAzHKWFHFmdqXuLQvXPJuTCpcgKdhWgcPRwIkWVy0nLs5N3pUgAOo2p9IbgsUhJCSfbmdkNqey6q0FBSC8YlStGAIA51r84qq5QJt3TIFlC0uEutRCqOlyxoSRZibi/nEP7g6nKSdMo7w+Y8jEyyHyihADj+keMGYSYQGVWu9RQRH6uGS9q4KriuIXICVn+Ix9glwFO4IoWIv4Rnp3TuahwpCSSpyxynL7qbt31i06X8RSB1KPa2GgsX3/OMjguiM2ac8zNLQOVX0AB1hrCl0kGhjhs3TPQ5XFV4jDuwCCHuXvrvWHdHpKldaNAUnmCQr0p6RS8MkLkMEklIuk6iNJKxUtIORWXNVbAu+nk+kU8E/MuV0LynFRaj3HfuiULC5iu76CExCgpRIgZfaU+m5ueZeJkiOhpcCgr9xfJNsaUwxSImMNMOUgVkErDuY6Ljg8lnmEOBQDcn8o6D48DlGwU8qToz09Iqx9CWq/0ry8YQ4UtceIP1rE2JKhXsa+7v+URErKrhm7NfxEsDTkFECoJhigQDMzFSJaS1D23NSmp8P6jSLbopxNUubkW+RdQSXYu2peoY/rAuHkpSp1XsBc13LOLc38ITEli7VY6+LiLSIb7ESgRFFjcK0SdHuLZx1a/aFuYizxUpxElFSVMidMyypL0ih4vw4pdQ9I1c2WyofPwgUmEsmlWWLixiGZwaaPMJmHXL7ctRSr3ganWu/cYuOFdIUrWJc9IQpQA60G5dgCCGQDuC3IQRxbhi0EgBwbcoz2JwPaDnstUEXPe9I4ElLG3DIjrRccqtG+kSsgZISO2HcFXZtQ3zUoS8dxjETCgJQQlRLEkOwqCTGOTPxARkTNWEsG3ABcMr2mozPalqRecCK0ygqaSQVEOS7AciALsLl30gPb0sy8e31MukyeykmiikZmrVokEhqHa/Pl4QTKlUTvTwajCJFIdh+J/KKWO3YDeUuL4ahSgvqwVEMo7tu2rNXlBJlk+0Xb07hpBmMxIQAEmpvEOZyTzjp6VRuu4LJKTS9iFUkQ0SRBENMdCqA2NCIUx2aEMVRBCYkw0grUEiGJSSQAKmLiXLTKSUv2z7RGg2EGxY3Ng5z2ojxOUshNUpFGavOOhi294/fhyjo6SVKkJ9SmnzQWYvzc77s2kDzFEe8HoKm5qGoPXlzg5faU3IXURcnny9IimydQnYuZj1FtW74HQSyLDmoJFK1Jao0qfGExuFOZwBtcH5d9eUSTkKUFEuSpJZpguQbW1PgwhOHzwqUlLhdAh/Zco7KiAwABINGDM2lIQC6spLpyukuGv5a0pGr4VxTOAhbBfx7ozSi7jS1CLUA9XrDp8o0IFc184d8yjoafn4Re0qzUY3CvWB5QIofOA+G8ZIAE0pAaisyfUaRbuCHFjGHHmzafBX4uWDHnylLmYmYDKCZLjIp3K9CSB7IcU5R6TNRFfOwgrRnuWhHX4JZoUq+/YZ02VY5WUH+zxZNoPw2BJlLC7FJu7AsQ7QXJkBCWuS47h9Yj6iOJg0U/xS4+Buee+ECYLETUJCaKAbK4sz0oxq94JOMmkNkZwHILV1bUfe0SoltEiUw7/AIikC82uxWzULLAJ18Pv6xZSksAIeExyoLg0scTbRieVyVCGGKMKRDCYZYMWFlIKiyQ5gnCcNUup7Kdz8oNM1MsZZdN1NU1akEx4XP6GJ5FEfIw4lClZmp93u5wOpR8Yj6933B5RCqZVu7kz/DWH4QUVSFXJydskWCb/AAjoiJqGJ9fHn6R0asgKrGvX92xNLdqSH/8AlPd9YGmYos37tii9+1J8vbrFtNRqw8ifhX70hGVtrsfnWBmioVxDsBP7ni1Dcqkgv4TIDwyBLdsJi6qUoA9R+JWdv5lO0Bv8RGmQhW58m+UKUq3bvBPziV3IZyWqh/8ASYh8zUVKNHr+PvG/dpxL/wC54od5kNt75320i/CJmqiNyAn5iI58pVDnV/pQfKkWiild/wDdcWHaoMkWb+u3j5QThccqWezh8VXQ9UR3n+J8PrB6ZB0W7F6hLUB0beHyZR1UD4fQfCLKOwfFxMVlXJmyjoVBBB/0KUR4gC0HqkvUMe6K1eGq5VSp/EKvyavfCS5YBOVTHkpQ2t2v0eKeNM0ptBM2WdREKhBEvELH+Kk8lMfzh6cUdUyj3Aj5nSAywWbWUDAhwgwT0/8ABT/qI+UJ+9o/4FuZI+UY/wAeRrzUCCHIkqV7KSYLGP2lpT/kUfV7wkzFTFD+ZlGjJy6/esWtM+7KeZdhqeFqvMUEDmRCTMRLlexKVNPvPLbyUtP3yrEBlu5JDkGrgu5/qPd6RH+6PvTTs6ch3fpQwWOCKBvI2Nn8UWouQvkGkkBnp/M8NbRCeIEE9iYeR6mpNafxe6JpmCs+bwc0p9/TWFUpIL1DPoSan+0lr/dYMYFVjyXHVzK6fwKPyEx/sQ0YoqP8tYD3IlsA1+zMJ8h4RIJaXuB4K56P4ViISEe6o09znu+n3S9FjDiWU3VTSBqEyq9zrfzEdDkpQbpXu5G+76/dI6K5L4LIr2PmRtpHISkjQ7Uf1+cRTJx5f6gPi/PSGTVpPtVNWDk+eVMZLCULOyW5OPl8IfMW2h+MBySgWBfVgdN3Yw7EZTQy83+WLITSluPZWfMaeAv+sPm29hZ/XviplmWTRIpzHI72idK5ZLABXcrNrziEK/E9LMHKWuWuYULSWUMk01HNKSDpDR03wH/GP/Tm/wD4jzPpZ/8A2YhgzTFU7qRp5fR/hLB8Yp2r/FlX/wBEJLUZHJpVx7jLxQSTdm64dj5OJR1kklaHIzZVioZ/aAO0GiSPd+EZwSpGAwilS1LWhCSsArbNnsHSAAC4DtGdX0wxuUzE4NQQKlSuuUAN81KekMPMoJb+vwB8tyfp6HoapP8AcO4p+/SKTjnH8PhGE0zCpQdKEso5XZ6qAAd7msVnRXpcnFzDJmyyhZSSFJUogtcNcFi9zbSMF0o4t+8zzMy5WGQDMVUSpVXO72geXUpQ3QNQwtyqR6XwDpDhsYsy5YmhYTmZaUigIGhUPxCLxWGDu582+DRiegWOw6utmCSjDmTLSFTAtRKkqcqzU/5QNXiHH/tJXnbDynDsFTColX+UW7nMajqEoJzfUqWJuVRRp+I8fwmHX1c6YUqICmyzFOlyAXCSHoRFjhZ8mZLTMRlKVpBBNHB3cA23EeN9JeLzMVO6yagIWEBJABFA5sa6x6Z/tg4Th0lYllZTKlJCbOpQSL13e0Vi1O+Ur6IueHal7svxLRsnwIf0h/VJAByD1Pl4RgMT03x6UlZwQSgXK0TWD0Dkt3PaLjoh0vGLKpapYRMSnNQ0UlwCasxcinPyJHUQlLaYeGSVmlKh7oDc1QwzFAPf10PKHFZJPaHdmHPSHoSSK+j39R+kGB0DqSo8v8r0b+2nwpEaZChpW7mWmvkDUwTMlIFSohr1V5/CIjhUXCjW1SdBr97xLLo4SlE3Dadk93KvdHQ1MmWTVebYE7AbAPT0hYohKooHLvBA08L84aZzHKFBzZg+j0rW0OQKvTyHxiNM4ZjVJIejcn+EZND5mLQkkOokByADT0o9qmIVYqUVEMDlJSS7gKaofcUfZxuBEHHZhEs9XLzTFEAMHbMfaIu3P5Oz8LhG6xISgDMpnqFVooinaIqT/VcxRAqR1ZYsh+9N6flE4A91PpDEqIA9n1+scVnYHz+kaIeH9IVZsXiOc+YP+8iN2f2ZSa/+omeSIGm/s9WuaqYcQntLK26sm6ipnzfKPQVFWjwlh09tuaGMmXhbWZvpb0hTgZMtCEpXMUGS9gEAAqU1dRQEd9Ixy8TxPGSJk0rKcOEqKqhCSlIJUAA61WIq40eNh0v4AcYlLnItD5VMTRTOCANWGtGio4R0TxEpE6WrEdhcpaEoBXlSpYYrKLGj23jWWGSU6/L8FQlBRvuUH7NEA40E6S1n4D5wJ0+I/fp+VmGUBrfy0WaNj0X6KLwc8zetTMdBQ2Qi5SXcn+mBeOdCFYifNnHEIRnL5SklmAG/KBPBPylGubNrJHfd9iy6bgI4aQgM/VJUQ1nTtXYRn/2XCT1k5S26wJTks4Sc2Ypcf22+cb3H4dE6UqTMUMihlIZrNUHcEAvoQIwc79nRzdnEoKHupJfyBY+Y8ILlxzWRTirBwlFwcW6KLpvjUzcZNUggpDJBFQcqQC3J3ja9I+lIwkqTLlSwZplpOZVkgDK7BiSTmaos8VmI/ZyCexiQEsPaQ9WAJooXOmnOL3pT0UTixLUmaETJYyuQ4Ul7ECxBdjW8Yjjyre65Zpyxvauxj8fM4licMufNWoYdszFkBYcAZQkOQ7e1SC/2UynxM1TO0pvNSfpFpguic1MidIXigoLSlKG6xSZYCwtTJNHOUCjawf0O6O/ua5ijOTMzgCiVJZiTuXv6RIYZ+ZGTv5tklOO1pGpmILMG84RKDsx7j8W5fCGrxCRfWl1CsMM1NySD/cow+LE/aH4R5Ew0rX7qfIv4/rHJUD+P1JPxhCRWpPL8rjuiEOExWw8APnHREucATf729THRCEE0XtaKHCB1TA5bMUs59kTEADuZR8a3Ajo6Msss8JIBymrg+8r8Kqa8z5xZzcOml7+8rSu/OEjoiKHplJpTlD5klO0LHRZBhlh7fdYTKGMdHRCDepFafhOp5wiZYP6mOjohBysOm7Vfc7RysOnbXc84SOiEOXh0gHsiBZiBmbKPIfekdHRZRJKlJb2UjuAESBApQR0dEIDrDWevM6loXDrOYh9THR0Qg+UsunmW9YkXPUAovYx0dEISyZ6iKn7rDDPU5D6t/wDX6mOjohYk7EKCQXr3DeOjo6IQ/9k=',
      [
        new Ingredient('cups besan', 2),
        new Ingredient('tsp baking soda',1/4 )
      ]),
    new Recipe('Khaman Dhokla',
      'What else you need to say?',
      'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS3C937xb1hklbz1xb7oukU65QFUQ3EFpByvaBXXeILNTUYR3WAtQ',
      [
        new Ingredient('Besan', 2),
        new Ingredient('Soda', 1)
      ])
  ];

  constructor(private slService: ShoppingListService) {}

  setRecipes(recipes: Recipe[]) {
    this.recipes = recipes;
    this.recipesChanged.next(this.recipes.slice());
  }

  getRecipes() {
    return this.recipes.slice();
  }

  getRecipe(index: number) {
    return this.recipes[index];
  }

  addIngredientsToShoppingList(ingredients: Ingredient[]) {
    this.slService.addIngredients(ingredients);
  }

  addRecipe(recipe: Recipe) {
    this.recipes.push(recipe);
    this.recipesChanged.next(this.recipes.slice());
  }

  updateRecipe(index: number, newRecipe: Recipe) {
    this.recipes[index] = newRecipe;
    this.recipesChanged.next(this.recipes.slice());
  }

  deleteRecipe(index: number) {
    this.recipes.splice(index, 1);
    this.recipesChanged.next(this.recipes.slice());
  }
}
